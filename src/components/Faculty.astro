---
import { faculty } from "../data/faculty.js";

interface Props {
    limit?: number;
    showTitle?: boolean;
}

const { limit, showTitle = true } = Astro.props;

const visibleFaculty = limit ? faculty.slice(0, limit) : faculty;
---

<section class="py-20 bg-gray-50">
    <div class="container mx-auto px-6">
        {
            showTitle && (
                <>
                    <h2 class="text-3xl font-bold text-center mb-4 text-primary font-serif">
                        Claustro Docente
                    </h2>
                    <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
                        Nuestro cuerpo académico está formado por expertos con
                        amplia trayectoria profesional y docente, comprometidos
                        con tu formación.
                    </p>
                </>
            )
        }

        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
            {
                visibleFaculty.map((member) => (
                    <a href={`/docentes/${member.id}`} class="block group">
                        <div class="bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden h-full">
                            <div class="aspect-square overflow-hidden relative">
                                <img
                                    src={member.image}
                                    alt={member.name}
                                    class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                                />
                                <div class="absolute inset-0 bg-gradient-to-t from-primary/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                                    <span class="text-white font-medium text-sm flex items-center gap-2">
                                        Ver perfil completo
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-4 w-4"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke="currentColor"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M14 5l7 7m0 0l-7 7m7-7H3"
                                            />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold text-primary mb-1 group-hover:text-secondary transition-colors font-serif">
                                    {member.name}
                                </h3>
                                <p class="text-secondary font-medium text-sm mb-4 font-serif">
                                    {member.degree}
                                </p>
                                <p class="text-gray-600 text-sm leading-relaxed line-clamp-3 mb-4 font-sans">
                                    {member.bio}
                                </p>
                                <span class="inline-flex items-center text-primary font-bold text-sm group-hover:text-secondary transition-colors">
                                    Ver perfil
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="h-4 w-4 ml-1 transform group-hover:translate-x-1 transition-transform"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke="currentColor"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M17 8l4 4m0 0l-4 4m4-4H3"
                                        />
                                    </svg>
                                </span>
                            </div>
                        </div>
                    </a>
                ))
            }
        </div>

        {
            limit && faculty.length > limit && (
                <div class="text-center mt-12">
                    <a
                        href="/docentes"
                        class="inline-block bg-primary text-white font-bold py-3 px-8 rounded-full hover:bg-blue-900 transition-colors shadow-lg hover:shadow-xl"
                    >
                        Ver todo el claustro
                    </a>
                </div>
            )
        }
    </div>
</section>
